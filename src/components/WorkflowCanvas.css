/* 工作流画布样式 - 深色主题 */
.workflow-canvas {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background: #1F2937; /* 深色背景 */
}

.workflow-canvas-header {
  padding: 20px 24px;
  background: #374151; /* 深色头部 */
  border-bottom: 1px solid #4B5563;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.workflow-title {
  font-size: 24px;
  font-weight: 700;
  color: #F9FAFB; /* 浅色文字 */
  margin: 0 0 8px 0;
}

.workflow-description {
  font-size: 14px;
  color: #D1D5DB; /* 浅灰色文字 */
  margin: 0;
  line-height: 1.5;
}

.workflow-canvas-content {
  flex: 1;
  position: relative;
  background: #1F2937; /* 深色画布 */
}

/* ReactFlow 深色主题样式 */
.react-flow__viewport {
  background: #1F2937 !important; /* 深色视口 */
}

.react-flow__controls {
  background: #374151 !important; /* 深色控件背景 */
  border: 1px solid #4B5563 !important;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}

.react-flow__controls-button {
  background: #374151 !important;
  border-bottom: 1px solid #4B5563 !important;
  color: #D1D5DB !important; /* 浅色图标 */
  transition: all 0.2s ease;
}

.react-flow__controls-button:hover {
  background: #4B5563 !important;
  color: #F9FAFB !important;
}

.react-flow__controls-button:last-child {
  border-bottom: none !important;
}

.react-flow__minimap {
  background: #374151 !important; /* 深色小地图 */
  border: 1px solid #4B5563 !important;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}

.react-flow__background {
  background: #1F2937 !important; /* 深色背景 */
}

/* 背景网格样式 - 深色主题 */
.react-flow__background-pattern {
  stroke: #374151 !important; /* 深色网格线 */
  opacity: 0.3;
}

/* 连接线样式 - 深色主题 */
.react-flow__edge-path {
  stroke: #9CA3AF !important; /* 浅灰色连接线 */
  stroke-width: 2;
}

.react-flow__edge.selected .react-flow__edge-path {
  stroke: #60A5FA !important; /* 选中时蓝色 */
  stroke-width: 3;
}

.react-flow__edge:hover .react-flow__edge-path {
  stroke: #D1D5DB !important; /* 悬停时更亮 */
  stroke-width: 3;
}

/* 箭头标记样式 */
.react-flow__arrowhead {
  fill: #9CA3AF !important;
}

.react-flow__edge.selected .react-flow__arrowhead {
  fill: #60A5FA !important;
}

/* 选择框样式 - 深色主题 */
.react-flow__selection {
  background: rgba(96, 165, 250, 0.1) !important;
  border: 1px dashed #60A5FA !important;
}

/* 节点拖拽时的样式 */
.react-flow__node.dragging {
  opacity: 0.7;
}

/* 节点选择时的样式 */
.react-flow__node.selected {
  box-shadow: 0 0 0 2px #60A5FA !important;
}

/* 连接点样式 - 深色主题 */
.react-flow__handle {
  background: #6B7280 !important;
  border: 2px solid #374151 !important;
  width: 8px !important;
  height: 8px !important;
}

.react-flow__handle:hover {
  background: #9CA3AF !important;
}

.react-flow__handle.react-flow__handle-connecting {
  background: #60A5FA !important;
}

/* 响应式调整 */
@media (max-width: 768px) {
  .workflow-canvas-header {
    padding: 16px 20px;
  }
  
  .workflow-title {
    font-size: 20px;
  }
  
  .workflow-description {
    font-size: 13px;
  }
  
  .react-flow__controls {
    transform: scale(0.9);
  }
  
  .react-flow__minimap {
    transform: scale(0.9);
    transform-origin: bottom right;
  }
}

@media (max-width: 480px) {
  .workflow-canvas-header {
    padding: 12px 16px;
  }
  
  .workflow-title {
    font-size: 18px;
  }
}

/* 自定义滚动条 - 深色主题 */
.react-flow__renderer::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.react-flow__renderer::-webkit-scrollbar-track {
  background: #374151;
}

.react-flow__renderer::-webkit-scrollbar-thumb {
  background: #6B7280;
  border-radius: 4px;
}

.react-flow__renderer::-webkit-scrollbar-thumb:hover {
  background: #9CA3AF;
}