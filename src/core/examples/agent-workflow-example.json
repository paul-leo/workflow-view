{
  "config": {
    "id": "agent-workflow-demo",
    "name": "AI Agent 简单工作流",
    "version": "1.0.0",
    "description": "简单的 AI Agent 工作流演示"
  },
  "nodes": [
    {
      "id": "form-trigger",
      "config": {
        "id": "form-trigger",
        "name": "表单触发",
        "type": "timer-trigger"
      },
      "settings": {
        "interval": 0,
        "triggerOnce": true,
        "formData": {
          "name": "John Doe",
          "email": "john@example.com",
          "role": "manager"
        }
      },
      "position": { "x": 100, "y": 300 }
    },
    {
      "id": "ai-agent",
      "config": {
        "id": "ai-agent",
        "name": "AI Agent",
        "type": "agent"
      },
      "settings": {
        "systemPrompt": "You are a smart assistant that processes user data and makes intelligent decisions.",
        "model": "gpt-4",
        "enableTools": true,
        "maxToolCalls": 3
      },
      "tools": [
        {
          "id": "chat-model",
          "name": "Chat Model",
          "description": "AI chat processing",
          "category": "AI"
        },
        {
          "id": "memory",
          "name": "Memory",
          "description": "Context memory storage",
          "category": "Storage"
        },
        {
          "id": "tool",
          "name": "Tool",
          "description": "General purpose tool",
          "category": "Utility"
        }
      ],
      "position": { "x": 400, "y": 300 }
    },
    {
      "id": "condition-check",
      "config": {
        "id": "condition-check",
        "name": "条件判断",
        "type": "condition"
      },
      "settings": {
        "condition": {
          "type": "simple",
          "field": "role",
          "operator": "eq",
          "value": "manager"
        }
      },
      "position": { "x": 700, "y": 300 }
    },
    {
      "id": "http-request-1",
      "config": {
        "id": "http-request-1",
        "name": "HTTP请求",
        "type": "http-request"
      },
      "settings": {
        "url": "https://api.example.com/users",
        "method": "POST",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "user": "{{form-trigger.formData}}"
        }
      },
      "position": { "x": 1000, "y": 200 }
    },
    {
      "id": "http-request-2",
      "config": {
        "id": "http-request-2",
        "name": "HTTP请求",
        "type": "http-request"
      },
      "settings": {
        "url": "https://api.example.com/profile",
        "method": "PUT",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "profile": "{{form-trigger.formData}}"
        }
      },
      "position": { "x": 1000, "y": 400 }
    },
    {
      "id": "code-processor",
      "config": {
        "id": "code-processor",
        "name": "代码执行",
        "type": "code"
      },
      "settings": {
        "code": "// Process the result\nconst result = input;\nreturn { processed: true, data: result };",
        "language": "javascript"
      },
      "position": { "x": 1300, "y": 300 }
    }
  ],
  "connections": [
    {
      "id": "form-to-agent",
      "sourceNodeId": "form-trigger",
      "targetNodeId": "ai-agent",
      "branchIndex": 0
    },
    {
      "id": "agent-to-condition",
      "sourceNodeId": "ai-agent",
      "targetNodeId": "condition-check",
      "branchIndex": 0
    },
    {
      "id": "condition-true",
      "sourceNodeId": "condition-check",
      "targetNodeId": "http-request-1",
      "branchIndex": 0
    },
    {
      "id": "condition-false",
      "sourceNodeId": "condition-check",
      "targetNodeId": "http-request-2",
      "branchIndex": 1
    },
    {
      "id": "request1-to-code",
      "sourceNodeId": "http-request-1",
      "targetNodeId": "code-processor",
      "branchIndex": 0
    },
    {
      "id": "request2-to-code",
      "sourceNodeId": "http-request-2",
      "targetNodeId": "code-processor",
      "branchIndex": 0
    }
  ]
}
